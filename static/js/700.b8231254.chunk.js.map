{"version":3,"file":"static/js/700.b8231254.chunk.js","mappings":"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","sources":["utils/spinnerProperty.js","utils/validationProduct.js","views/seller/EditProduct.jsx"],"sourcesContent":["export const overRideStyle = {\r\n  display: \"flex\",\r\n  margin: \"0 auto\",\r\n  height: \"24px\",\r\n  justifyContent: \"center\",\r\n  alignItem: \"center\",\r\n};\r\n","export const validationProduct = (state) => {\r\n  const { brand, name, price, description, discount, stock } = state;\r\n  const errors = {};\r\n\r\n  // Helper function to check if a value is blank or invalid\r\n  const isBlank = (value) => {\r\n    if (value === null || value === undefined) return true;\r\n    if (typeof value === \"string\") return value.trim() === \"\";\r\n    return false;\r\n  };\r\n\r\n  // Validation rules\r\n  if (isBlank(brand)) {\r\n    errors.brand = \"Brand is required\";\r\n  }\r\n  if (isBlank(name)) {\r\n    errors.name = \"Name is required\";\r\n  }\r\n  if (isBlank(price) || isNaN(price) || price < 1) {\r\n    errors.price = \"Price should be a number greater than 0\";\r\n  }\r\n  if (isBlank(description)) {\r\n    errors.description = \"Description is required\";\r\n  }\r\n  if (isBlank(discount) || isNaN(discount) || discount < 0 || discount > 100) {\r\n    errors.discount = \"Discount should be a number between 0 and 100\";\r\n  }\r\n  if (isBlank(stock) || isNaN(stock) || stock < 0) {\r\n    errors.stock = \"Stock should be a number greater than or equal to 0\";\r\n  }\r\n\r\n  return errors;\r\n};\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { FaRegImages } from \"react-icons/fa\";\r\nimport { IoMdCloseCircle } from \"react-icons/io\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport {\r\n  get_editProduct,\r\n  update_product,\r\n  messageClear,\r\n} from \"../../store/Reducers/productReducer\";\r\nimport { get_category } from \"../../store/Reducers/categoryReducer\";\r\nimport { PropagateLoader } from \"react-spinners\";\r\nimport { toast } from \"react-hot-toast\";\r\nimport { overRideStyle } from \"./../../utils/spinnerProperty\";\r\nimport { Cropper } from \"react-cropper\";\r\nimport \"cropperjs/dist/cropper.css\";\r\nimport { validationProduct } from \"../../utils/validationProduct\";\r\nconst EditProduct = () => {\r\n  const { categories } = useSelector((store) => store.category);\r\n  const { productId } = useParams();\r\n  const dispatch = useDispatch();\r\n  const [state, setState] = useState({\r\n    name: \"\",\r\n    description: \"\",\r\n    discount: \"\",\r\n    price: \"\",\r\n    brand: \"\",\r\n    stock: \"\",\r\n  });\r\n  const [cateShow, setCateShow] = useState(false); //toggle the category input\r\n  const [category, setCategory] = useState(\"\"); //to set category input from the modal\r\n  const [allCategory, setAllCategory] = useState(categories); //all category\r\n  const [searchValue, setSearchValue] = useState(\"\");\r\n  const { singleProduct, loader, successMessage, errorMessage } = useSelector(\r\n    (store) => store.product\r\n  );\r\n  const [newImages, setNewImages] = useState([]); // To track new images\r\n  const [cropper, setCropper] = useState(null); // Cropper instance\r\n  const [cropImage, setCropImage] = useState(null); // Image to crop\r\n  const [isCropping, setIsCropping] = useState(false); // Toggle cropping modal\r\n  const [images, setImages] = useState([]); // Final cropped images\r\n  const [imageShow, setImageShow] = useState([]);\r\n  const [oldImages, setOldImages] = useState([]);\r\n\r\n  // useEffect for geting product\r\n  useEffect(() => {\r\n    dispatch(get_editProduct(productId));\r\n  }, [productId]);\r\n  //category dispatch\r\n  useEffect(() => {\r\n    dispatch(\r\n      get_category({\r\n        searchValue: \"\",\r\n        parPage: \"\",\r\n        page: \"\",\r\n      })\r\n    );\r\n  }, []);\r\n  useEffect(() => {\r\n    if (successMessage) {\r\n      toast.success(successMessage);\r\n      dispatch(messageClear());\r\n      setState({\r\n        name: \"\",\r\n        description: \"\",\r\n        discount: \"\",\r\n        price: \"\",\r\n        brand: \"\",\r\n        stock: \"\",\r\n      });\r\n      setCategory(\"\");\r\n      setNewImages([]);\r\n      setOldImages([]);\r\n    }\r\n    if (errorMessage) {\r\n      toast.error(errorMessage);\r\n      dispatch(messageClear());\r\n    }\r\n  }, [successMessage, errorMessage]);\r\n\r\n  // handling removing the images\r\n  const handleRemove = (img, i) => {\r\n    if (img?.url) {\r\n      const filterdImages = images.filter((_, index) => index !== i);\r\n      const filterdUrl = imageShow.filter((_, index) => index !== i);\r\n      const filterdNewImages = images.filter((_, index) => index !== i);\r\n      setImages(filterdImages);\r\n      setImageShow(filterdUrl);\r\n      setNewImages(filterdNewImages);\r\n    }\r\n    if (img) {\r\n      const afterFilter = oldImages.filter((oldImg) => oldImg !== img);\r\n      setImageShow(afterFilter);\r\n      setOldImages([...afterFilter]);\r\n      console.log(afterFilter);\r\n    }\r\n  };\r\n  //handle input data\r\n  const inputHandle = (e) => {\r\n    setState({\r\n      ...state,\r\n      [e.target.name]: e.target.value,\r\n    });\r\n  };\r\n  // handle new image upload\r\n  const imageHandle = (e) => {\r\n    const files = e.target.files;\r\n    const length = files.length;\r\n    if (length > 0) {\r\n      setCropImage(URL.createObjectURL(files[0]));\r\n      setIsCropping(true);\r\n    }\r\n  };\r\n  // category search\r\n  const categorySearch = (e) => {\r\n    const value = e.target.value;\r\n    setSearchValue(value);\r\n\r\n    if (value) {\r\n      let srcValue = allCategory.filter((c) =>\r\n        c.categoryName.toLowerCase().includes(value.toLowerCase())\r\n      );\r\n      setAllCategory(srcValue);\r\n    } else {\r\n      setAllCategory(categories);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    setState({\r\n      name: singleProduct.name,\r\n      description: singleProduct.description,\r\n      discount: singleProduct.discount,\r\n      price: singleProduct.price,\r\n      brand: singleProduct.brand,\r\n      stock: singleProduct.stock,\r\n    });\r\n    setCategory(singleProduct.category);\r\n    setImageShow(singleProduct.images);\r\n    setOldImages(singleProduct.images);\r\n  }, [singleProduct]);\r\n\r\n  // send data to server\r\n  const update = (e) => {\r\n    e.preventDefault();\r\n    // Validation checks form values and images\r\n    const errors = validationProduct(state);\r\n    if (Object.keys(errors).length > 0) {\r\n      for (let error of Object.values(errors)) {\r\n        toast.error(error);\r\n      }\r\n      return;\r\n    }\r\n\r\n    const formData = new FormData();\r\n    if (newImages.length > 0)\r\n      newImages.forEach((img) => formData.append(\"images\", img));\r\n\r\n    formData.append(\"name\", state.name);\r\n    formData.append(\"description\", state.description);\r\n    formData.append(\"discount\", state.discount);\r\n    formData.append(\"price\", state.price);\r\n    formData.append(\"brand\", state.brand);\r\n    formData.append(\"stock\", state.stock);\r\n    formData.append(\"category\", category);\r\n    formData.append(\"productId\", productId);\r\n    formData.append(\"oldImages\", oldImages);\r\n    dispatch(update_product(formData));\r\n    setOldImages([]);\r\n  };\r\n\r\n  return (\r\n    <div className=\"px-2 lg:pr-7 \">\r\n      <div className=\"my-5\">\r\n        <h1 className=\"text-xl font-bold\">Edit Product Details</h1>\r\n      </div>\r\n      <div className=\"w-full p-4 bg-slate-600 rounded-md\">\r\n        <div className=\"flex justify-between items-center pb-4\">\r\n          <h1 className=\"text-white text-xl font-semibold\">Product Details</h1>\r\n          <Link\r\n            to=\"/seller/dashboard/all-product\"\r\n            className=\"bg-blue-500 hover:shadow-blue-500/50 hover:shadow-lg text-white rounded-sm px-7 py-2 my-2\"\r\n          >\r\n            All Product\r\n          </Link>\r\n        </div>\r\n        <div>\r\n          <form onSubmit={update}>\r\n            {/* product and Brand */}\r\n            <div className=\"flex flex-col mb-3 md:flex-row gap-4 w-full text-white\">\r\n              <div className=\"flex flex-col w-full gap-1\">\r\n                <label htmlFor=\"name\">Product Name</label>\r\n                <input\r\n                  className=\"px-4 py-2 focus:border-indigo-500 outline-none  border border-slate-700 rounded-md text-black \"\r\n                  onChange={inputHandle}\r\n                  value={state.name}\r\n                  type=\"text\"\r\n                  name=\"name\"\r\n                  id=\"name\"\r\n                  placeholder=\"Product Name\"\r\n                />\r\n              </div>\r\n\r\n              <div className=\"flex flex-col w-full gap-1\">\r\n                <label htmlFor=\"brand\">Product Brand</label>\r\n                <input\r\n                  className=\"px-4 py-2 focus:border-indigo-500 outline-none text-black border border-slate-700 rounded-md \"\r\n                  onChange={inputHandle}\r\n                  value={state.brand}\r\n                  type=\"text\"\r\n                  name=\"brand\"\r\n                  id=\"brand\"\r\n                  placeholder=\"Brand Name\"\r\n                />\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"flex flex-col mb-3 md:flex-row gap-4 w-full text-white\">\r\n              {/* Category */}\r\n              <div className=\"flex flex-col w-full gap-1 relative\">\r\n                <label htmlFor=\"category\">Category</label>\r\n                <input\r\n                  readOnly\r\n                  onClick={() => setCateShow(!cateShow)}\r\n                  className=\"px-4 py-2 focus:border-indigo-500 outline-none  border border-slate-700 rounded-md text-black\"\r\n                  onChange={inputHandle}\r\n                  value={category}\r\n                  type=\"text\"\r\n                  id=\"category\"\r\n                  placeholder=\"--select category--\"\r\n                />\r\n\r\n                <div\r\n                  className={`absolute top-[100%] bg-lime-900 w-full transition-all ${\r\n                    cateShow ? \"scale-100\" : \"scale-0\"\r\n                  } `}\r\n                >\r\n                  <div className=\"w-full px-4 py-2 fixed\">\r\n                    <input\r\n                      value={searchValue}\r\n                      onChange={categorySearch}\r\n                      className=\"px-3 py-1 w-full focus:border-indigo-500 outline-none bg-transparent border border-slate-100 rounded-md text-[#d0d2d6] overflow-hidden\"\r\n                      type=\"text\"\r\n                      placeholder=\"search\"\r\n                    />\r\n                  </div>\r\n                  <div className=\"pt-14\"></div>\r\n                  <div className=\"flex justify-start items-start flex-col h-[200px] overflow-x-scrool\">\r\n                    {allCategory.map((c, i) => (\r\n                      <span\r\n                        className={`px-4 py-2 hover:bg-indigo-400 hover:text-white hover:shadow-lg w-full cursor-pointer ${\r\n                          category === c.categoryName && \"bg-indigo-700\"\r\n                        }`}\r\n                        onClick={() => {\r\n                          setCateShow(false);\r\n                          setCategory(c.categoryName);\r\n                          setSearchValue(\"\");\r\n                          setAllCategory(categories);\r\n                        }}\r\n                      >\r\n                        {c.categoryName}\r\n                      </span>\r\n                    ))}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"flex flex-col w-full gap-1\">\r\n                <label htmlFor=\"stock\">Product Stock</label>\r\n                <input\r\n                  className=\"px-4 py-2 focus:border-indigo-500 outline-none  border border-slate-700 rounded-md text-black\"\r\n                  onChange={inputHandle}\r\n                  value={state.stock}\r\n                  type=\"text\"\r\n                  name=\"stock\"\r\n                  id=\"stock\"\r\n                  placeholder=\"Stock\"\r\n                />\r\n              </div>\r\n            </div>\r\n            {/* price and discount  */}\r\n            <div className=\"flex flex-col mb-3 md:flex-row gap-4 w-full text-white\">\r\n              <div className=\"flex flex-col w-full gap-1\">\r\n                <label htmlFor=\"price\">Price</label>\r\n                <input\r\n                  className=\"px-4 py-2 focus:border-indigo-500 outline-none  border border-slate-700 rounded-md text-black\"\r\n                  onChange={inputHandle}\r\n                  value={state.price}\r\n                  type=\"number\"\r\n                  name=\"price\"\r\n                  id=\"price\"\r\n                  placeholder=\"price\"\r\n                />\r\n              </div>\r\n\r\n              <div className=\"flex flex-col w-full gap-1\">\r\n                <label htmlFor=\"discount\">Discount</label>\r\n                <input\r\n                  className=\"px-4 py-2 focus:border-indigo-500 outline-none  border border-slate-700 rounded-md text-black\"\r\n                  onChange={inputHandle}\r\n                  value={state.discount}\r\n                  type=\"number\"\r\n                  name=\"discount\"\r\n                  id=\"discount\"\r\n                  placeholder=\"discount by %\"\r\n                />\r\n              </div>\r\n            </div>\r\n            {/* description */}\r\n            <div className=\"flex flex-col w-full gap-1 mb-5\">\r\n              <label htmlFor=\"description\" className=\"text-[#d0d2d6]\">\r\n                Description\r\n              </label>\r\n              <textarea\r\n                className=\"px-4 py-2 focus:border-indigo-500 outline-none  border border-slate-700 rounded-md text-black\"\r\n                onChange={inputHandle}\r\n                value={state.description}\r\n                name=\"description\"\r\n                id=\"description\"\r\n                placeholder=\"Description\"\r\n                cols=\"10\"\r\n                rows=\"4\"\r\n              ></textarea>\r\n            </div>\r\n            {/* images */}\r\n            <div className=\"grid grid-col-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 w-full  gap-2 mb-5\">\r\n              {/* uploaded images */}\r\n              {imageShow &&\r\n                imageShow.map((img, i) => (\r\n                  <div\r\n                    className={` h-[180px] w-[180px] relative ${\r\n                      newImages.includes(images[i])\r\n                        ? \"border-2 border-blue-500\"\r\n                        : \"\"\r\n                    } `}\r\n                  >\r\n                    <label htmlFor={i} className=\"cursor-pointer\">\r\n                      {/* display uploaded images */}\r\n                      <img\r\n                        className=\"w-full h-full rounded-sm\"\r\n                        src={img?.url || img}\r\n                        alt=\"\"\r\n                      />\r\n                    </label>\r\n                    {/* replace images */}\r\n\r\n                    {/* remove icon */}\r\n                    <span\r\n                      onClick={() => handleRemove(img, i)}\r\n                      className=\"absolute right-4  top-2 z-50 w-[20px] h-[20px] rounded-full bg-white hover:bg-red-500 flex justify-center items-center cursor-pointer\"\r\n                    >\r\n                      <IoMdCloseCircle />\r\n                    </span>\r\n                  </div>\r\n                ))}\r\n              {/* uploading new images */}\r\n              <label\r\n                htmlFor=\"image\"\r\n                className=\"flex flex-col justify-center items-center h-[180px] w-[180px] bg-white cursor-pointer\"\r\n              >\r\n                <span>\r\n                  <FaRegImages />\r\n                </span>\r\n                <span>Select Image</span>\r\n              </label>\r\n              <input\r\n                type=\"file\"\r\n                id=\"image\"\r\n                className=\"hidden\"\r\n                accept=\"image/*\"\r\n                onChange={imageHandle}\r\n              />\r\n            </div>\r\n            {/* save chages  button*/}\r\n            <div className=\"\">\r\n              <button\r\n                disabled={loader}\r\n                className=\"bg-red-600 py-2 px-3 rounded-lg text-white font-bold\"\r\n              >\r\n                {loader ? (\r\n                  <PropagateLoader color=\"#fff\" cssOverride={overRideStyle} />\r\n                ) : (\r\n                  \"Save Changes\"\r\n                )}\r\n              </button>\r\n            </div>\r\n            {/* modal for cropping*/}\r\n            <div>\r\n              {isCropping && (\r\n                <div className=\"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50\">\r\n                  <div className=\"bg-white rounded-lg p-6 w-full max-w-lg shadow-lg\">\r\n                    <h3 className=\"text-lg font-semibold mb-4\">Crop Image</h3>\r\n                    <Cropper\r\n                      className=\"w-full h-64\"\r\n                      src={cropImage}\r\n                      aspectRatio={1}\r\n                      viewMode={1}\r\n                      guides={true}\r\n                      scalable={true}\r\n                      cropBoxResizable={true}\r\n                      onInitialized={(instance) => setCropper(instance)}\r\n                    />\r\n                    <div className=\"mt-4 flex justify-end space-x-3\">\r\n                      <button\r\n                        className=\"px-4 py-2 bg-green-500 text-white rounded-md hover:bg-green-600\"\r\n                        onClick={(e) => {\r\n                          e.preventDefault();\r\n                          if (cropper) {\r\n                            const croppedCanvas = cropper.getCroppedCanvas();\r\n                            croppedCanvas.toBlob((blob) => {\r\n                              if (blob) {\r\n                                const file = new File(\r\n                                  [blob],\r\n                                  \"cropped-image.jpg\",\r\n                                  { type: \"image/jpeg\" }\r\n                                );\r\n                                setImages([...images, file]);\r\n                                setNewImages([...newImages, file]);\r\n                                const imageUrl = URL.createObjectURL(file);\r\n                                setImageShow([...imageShow, { url: imageUrl }]); // Update displayed images with the new image URL\r\n                                setIsCropping(false);\r\n                              }\r\n                            });\r\n                          }\r\n                        }}\r\n                      >\r\n                        Crop\r\n                      </button>\r\n                      <button\r\n                        className=\"px-4 py-2 bg-red-500 text-white rounded-md hover:bg-red-600\"\r\n                        onClick={() => setIsCropping(false)}\r\n                      >\r\n                        Cancel\r\n                      </button>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              )}\r\n            </div>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default EditProduct;\r\n"],"names":["overRideStyle","display","margin","height","justifyContent","alignItem","validationProduct","state","brand","name","price","description","discount","stock","errors","isBlank","value","undefined","trim","isNaN","EditProduct","categories","useSelector","store","category","productId","useParams","dispatch","useDispatch","setState","useState","cateShow","setCateShow","setCategory","allCategory","setAllCategory","searchValue","setSearchValue","singleProduct","loader","successMessage","errorMessage","product","newImages","setNewImages","cropper","setCropper","cropImage","setCropImage","isCropping","setIsCropping","images","setImages","imageShow","setImageShow","oldImages","setOldImages","useEffect","get_editProduct","get_category","parPage","page","toast","success","messageClear","error","inputHandle","e","target","_jsxs","className","children","_jsx","Link","to","onSubmit","preventDefault","Object","keys","length","values","formData","FormData","forEach","img","append","update_product","htmlFor","onChange","type","id","placeholder","readOnly","onClick","srcValue","filter","c","categoryName","toLowerCase","includes","map","i","cols","rows","src","url","alt","handleRemove","filterdImages","_","index","filterdUrl","filterdNewImages","afterFilter","oldImg","console","log","IoMdCloseCircle","FaRegImages","accept","files","URL","createObjectURL","disabled","PropagateLoader","color","cssOverride","Cropper","aspectRatio","viewMode","guides","scalable","cropBoxResizable","onInitialized","instance","getCroppedCanvas","toBlob","blob","file","File","imageUrl"],"sourceRoot":""}