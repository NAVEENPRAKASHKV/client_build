"use strict";(self.webpackChunkapplication=self.webpackChunkapplication||[]).push([[393],{7812:(e,s,r)=>{r.d(s,{A:()=>n});r(5043);var t=r(579);const n=e=>{let{message:s,SetModalClose:r,confimFunction:n}=e;return(0,t.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-30 flex items-center justify-center z-50",children:(0,t.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-lg w-96",children:[(0,t.jsx)("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Confirmation"}),(0,t.jsx)("p",{className:"text-sm text-gray-600 mb-6",children:s}),(0,t.jsxs)("div",{className:"flex justify-end gap-4",children:[(0,t.jsx)("button",{onClick:()=>{r(!0)},className:"px-4 py-2 bg-gray-200 text-gray-800 rounded-lg hover:bg-gray-300",children:"Cancel"}),(0,t.jsx)("button",{onClick:()=>{n(),r(!0)},className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700",children:"Confirm"})]})]})})}},9393:(e,s,r)=>{r.r(s),r.d(s,{default:()=>c});var t=r(5043),n=r(3003),l=r(3216),d=r(1084),i=r(7812),a=r(3768),o=r(579);const c=()=>{var e,s,r,c,u,x,m;const{orderId:p}=(0,l.g)(),g=(0,n.wA)(),{order:h,successMessage:v,errorMessage:j}=(0,n.d4)((e=>e.order)),[y,f]=(0,t.useState)(h.delivery_status),[N,b]=(0,t.useState)(!0),[w,I]=(0,t.useState)({productId:"",returnOption:"",returnAmount:"",couponId:"",couponAmount:""}),[S,A]=(0,t.useState)(!0);(0,t.useEffect)((()=>{g((0,d.nm)(p))}),[g,p,v]);return(0,t.useEffect)((()=>{v&&(a.oR.success(v),g((0,d.Tn)())),j&&(a.oR.error(j),g((0,d.Tn)()))}),[v,j,g]),(0,o.jsxs)("div",{className:" w-[95%] ml-4 px-4 lg:px-10 pb-6  min-h-screen",children:[(0,o.jsx)("div",{className:"w-full p-6 bg-gradient-to-r from-indigo-600 to-purple-600 rounded-xl shadow-lg text-white",children:(0,o.jsxs)("div",{className:"flex justify-between items-center",children:[(0,o.jsx)("h2",{className:"text-2xl font-bold tracking-wide",children:"Order Details"}),(0,o.jsxs)("div",{className:"flex gap-3",children:[(0,o.jsxs)("select",{onChange:e=>f(e.target.value),value:y,className:"px-4 py-2 bg-white text-gray-700 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-purple-300 transition",children:[(0,o.jsx)("option",{value:"processing",children:"Processing"}),(0,o.jsx)("option",{value:"warehouse",children:"Warehouse"}),(0,o.jsx)("option",{value:"dispatched",children:"Dispatched"}),(0,o.jsx)("option",{value:"delivered",children:"Delivered"}),(0,o.jsx)("option",{value:"cancelled",children:"Cancelled"})]}),(0,o.jsx)("div",{onClick:()=>b(!1),className:"bg-red-700 px-3 py2 flex items-center rounded-lg text-white cursor-pointer",children:"Update Status"})]})]})}),(0,o.jsxs)("div",{className:"mt-8 grid grid-cols-1 md:grid-cols-3 gap-8",children:[(0,o.jsxs)("div",{className:"bg-white p-6 rounded-xl shadow-lg",children:[(0,o.jsx)("p",{className:"text-gray-600",children:(0,o.jsx)("strong",{className:"text-gray-800",children:"Deliver To: "})}),(0,o.jsxs)("p",{className:"text-gray-600 text-sm mt-2",children:[null===h||void 0===h||null===(e=h.shippingInfo)||void 0===e?void 0:e.name,null===h||void 0===h||null===(s=h.shippingInfo)||void 0===s?void 0:s.address,", ",null===h||void 0===h||null===(r=h.shippingInfo)||void 0===r?void 0:r.province,",",null===h||void 0===h||null===(c=h.shippingInfo)||void 0===c?void 0:c.city,", ",null===h||void 0===h||null===(u=h.shippingInfo)||void 0===u?void 0:u.area]}),(0,o.jsxs)("div",{className:"mt-4 flex flex-col gap-3",children:[(0,o.jsxs)("p",{className:"text-gray-600 mt-2 flex flex-col",children:[(0,o.jsx)("strong",{className:"text-gray-800",children:"Order Date :"}),(0,o.jsx)("span",{children:new Date(null===h||void 0===h?void 0:h.createdAt).toLocaleDateString("en-GB",{year:"numeric",month:"long",day:"numeric"})})]}),(0,o.jsxs)("p",{className:"text-gray-600",children:[(0,o.jsx)("strong",{className:"text-gray-800",children:"Payment Status :"}),(0,o.jsx)("span",{children:null===h||void 0===h?void 0:h.payment_status})]}),(0,o.jsxs)("p",{className:"text-gray-600 mt-2",children:[(0,o.jsx)("strong",{className:"text-gray-800",children:" Sold Price :"})," \u20b9",null===h||void 0===h?void 0:h.price]}),(0,o.jsxs)("p",{className:"text-gray-600 mt-2",children:[(0,o.jsx)("strong",{className:"text-gray-800",children:" Coupon Applied:"})," \u20b9",null===h||void 0===h?void 0:h.couponAmount]}),(0,o.jsxs)("p",{className:"text-gray-600 mt-2",children:[(0,o.jsx)("strong",{className:"text-gray-800",children:" Deliver charge:"})," \u20b9",null===h||void 0===h?void 0:h.shippingFee]}),(0,o.jsxs)("p",{className:"text-gray-600 mt-2",children:[(0,o.jsx)("strong",{className:"text-gray-800",children:"Total products:"})," ",null===h||void 0===h||null===(x=h.products)||void 0===x?void 0:x.length]})]})]}),(0,o.jsx)("div",{className:"md:col-span-2 space-y-8",children:(0,o.jsxs)("div",{className:"bg-white p-6 rounded-xl shadow-lg",children:[(0,o.jsx)("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Suborders"}),null===h||void 0===h||null===(m=h.suborders)||void 0===m?void 0:m.map(((e,s)=>{var r;return(0,o.jsxs)("div",{className:"mb-6",children:[(0,o.jsxs)("div",{className:"flex items-center justify-between gap-4 mb-3",children:[(0,o.jsxs)("h4",{className:"font-semibold text-gray-700",children:["Seller ",s+1," ","-",null===e||void 0===e?void 0:e.sellerId]}),(0,o.jsxs)("div",{className:"flex gap-4",children:[(0,o.jsx)("span",{children:"Order Status:"}),(0,o.jsx)("span",{className:"bg-indigo-100 text-indigo-600 px-3 py-1 rounded-lg shadow-sm text-sm",children:e.delivery_status})]})]}),null===(r=e.products)||void 0===r?void 0:r.map(((e,s)=>{const{images:r,name:t,brand:n,quantity:l,_id:d,price:i,validOfferPercentage:a,discount:c,returnStatus:u}=e,x=c>a?c:a,m=i-Math.floor(i*x/100).toFixed(2);return(0,o.jsxs)("div",{className:"flex border-2 my-1 items-center gap-4 p-4 bg-gray-50 rounded-lg hover:shadow-md transition transform hover:-translate-y-1",children:[(0,o.jsx)("img",{className:"w-16 h-16 object-cover rounded-md shadow-sm",src:r[0],alt:t}),(0,o.jsxs)("div",{children:[(0,o.jsx)("h4",{className:"font-semibold text-gray-800",children:t}),(0,o.jsxs)("p",{className:"text-gray-600",children:[(0,o.jsx)("strong",{children:"Brand:"})," ",n]}),(0,o.jsxs)("p",{className:"text-gray-600",children:[(0,o.jsx)("strong",{children:"Quantity:"})," ",l]}),(0,o.jsxs)("p",{className:"text-gray-600",children:[(0,o.jsx)("strong",{children:"Price:\u20b9"})," ",m*l]}),u&&(0,o.jsxs)("p",{className:"text-gray-600",children:[(0,o.jsx)("strong",{children:"Return Status:"})," ",u]}),"requested"===u&&(0,o.jsxs)("div",{className:"flex gap-3 mt-3",children:[(0,o.jsx)("h2",{children:"Return Request"}),(0,o.jsx)("div",{onClick:()=>{I({productId:d,returnOption:"rejected",returnAmount:m,couponId:h.couponId,couponAmount:h.couponAmount}),A(!1)},className:"bg-red-600 text-sm cursor-pointer rounded-lg text-white px-2 py-1 hover:hover:bg-red-700 transition duration-200 ease-in-out",children:"Reject"}),(0,o.jsx)("div",{onClick:()=>{I({productId:d,returnOption:"accepted",returnAmount:m,couponId:h.couponId,couponAmount:h.couponAmount}),A(!1)},className:"bg-green-600 text-sm cursor-pointer rounded-lg text-white px-2 py-1 hover:hover:bg-green-700 transition duration-200 ease-in-out",children:"Accept"})]})]})]},d)}))]},s)}))]})})]}),(0,o.jsx)("div",{children:!S&&(0,o.jsx)("div",{children:(0,o.jsx)(i.A,{confimFunction:()=>g((0,d.S4)({orderId:p,productId:w.productId,info:w})),SetModalClose:A,message:"Please confirm to place action in  Return request"})})}),(0,o.jsx)("div",{children:!N&&(0,o.jsx)(i.A,{confimFunction:()=>(e=>{if("cancelled"===h.delivery_status||"delivered"===h.delivery_status)return a.oR.error("order completed! further action disabled");if(h.delivery_status!==y){const s={orderId:e,info:{status:y}};g((0,d.wy)(s))}else a.oR.error("delivery status previous and current is same")})(p),SetModalClose:b,message:"Please confirm to change order status"})})]})}}}]);
//# sourceMappingURL=393.58a0d0ce.chunk.js.map