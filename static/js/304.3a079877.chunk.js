"use strict";(self.webpackChunkapplication=self.webpackChunkapplication||[]).push([[304],{7812:(e,t,s)=>{s.d(t,{A:()=>r});s(5043);var a=s(579);const r=e=>{let{message:t,SetModalClose:s,confimFunction:r}=e;return(0,a.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-30 flex items-center justify-center z-50",children:(0,a.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-lg w-96",children:[(0,a.jsx)("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Confirmation"}),(0,a.jsx)("p",{className:"text-sm text-gray-600 mb-6",children:t}),(0,a.jsxs)("div",{className:"flex justify-end gap-4",children:[(0,a.jsx)("button",{onClick:()=>{s(!0)},className:"px-4 py-2 bg-gray-200 text-gray-800 rounded-lg hover:bg-gray-300",children:"Cancel"}),(0,a.jsx)("button",{onClick:()=>{r(),s(!0)},className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700",children:"Confirm"})]})]})})}},4163:(e,t,s)=>{s.d(t,{A:()=>r});s(5043);var a=s(579);const r=e=>{let{setPerPage:t,searchValue:s,setSearchValue:r}=e;return(0,a.jsx)("div",{children:(0,a.jsxs)("div",{className:"h-14 bg-slate-600 rounded-t-md flex justify-between items-center px-4",children:[(0,a.jsxs)("select",{onChange:e=>t(parseInt(e.target.value)),className:"px-3 py-2 rounded font-semibold",children:[(0,a.jsx)("option",{value:"5",children:"5"}),(0,a.jsx)("option",{value:"10",children:"10"}),(0,a.jsx)("option",{value:"15",children:"15"})]}),(0,a.jsx)("input",{value:s,onChange:e=>r(e.target.value),className:"hidden md:block bg-white border border-gray-300 h-10 px-3 py-1 rounded focus:outline-none focus:border-blue-500",type:"text",placeholder:"Search"})]})})}},2419:(e,t,s)=>{s.d(t,{A:()=>i});s(5043);var a=s(6720),r=s(579);const i=e=>{let{pageNumber:t,setPageNumber:s,totalItem:i,perPage:l,showItem:n}=e;const o=Math.ceil(i/l);let c=t;o-t<=n&&(c=o-n+1);let d=c<1?n:n+c;c<=0&&(c=1),d>o+1&&(d=o+1);return(0,r.jsxs)("ul",{className:"flex gap-3 items-center",children:[t>1&&(0,r.jsx)("li",{onClick:()=>s(t-1),className:"w-[33px] h-[33px] rounded-full flex justify-center items-center bg-slate-400 text-black cursor-pointer hover:bg-indigo-400",children:(0,r.jsx)(a.U6K,{})}),(()=>{const e=[];for(let a=c;a<d;a++)e.push((0,r.jsx)("li",{onClick:()=>s(a),className:(t===a?"bg-green-600 text-white":"bg-slate-600 hover:bg-green-900 text-[#d0d2d6]")+" w-[33px] h-[33px] rounded-full flex justify-center items-center cursor-pointer",children:a},a));return e})(),t<o&&(0,r.jsx)("li",{onClick:()=>s(t+1),className:"w-[33px] h-[33px] rounded-full flex justify-center items-center bg-slate-400 text-black cursor-pointer hover:bg-indigo-400",children:(0,r.jsx)(a.b0J,{})})]})}},4304:(e,t,s)=>{s.r(t),s.d(t,{default:()=>f});var a=s(5043),r=s(4163),i=s(2419),l=s(6720),n=s(423),o=s(184),c=s(3003),d=s(3768),x=s(3402),u=s(7812);var m=s(579);const g=e=>{let{isOpen:t,setIsModalOpen:s,isEdit:a,setIsEdit:r,form:i,setForm:l,categories:n}=e;const o=(0,c.wA)(),u=e=>{const{name:t,value:s,type:a,checked:r}=e.target;l({...i,[t]:"checkbox"===a?r:s})};return t?(0,m.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:(0,m.jsxs)("div",{className:"rounded-lg shadow-lg w-11/12 max-w-lg "+(a?"bg-stone-300":"bg-green-300"),children:[(0,m.jsx)("div",{className:"p-4 border-b",children:(0,m.jsx)("h2",{className:"text-lg font-bold text-center",children:a?"Edit Offer":"Add New Offer"})}),(0,m.jsxs)("div",{className:"p-4 space-y-4",children:[(0,m.jsxs)("div",{className:"flex justify-between gap-3",children:[(0,m.jsxs)("div",{className:"w-full",children:[(0,m.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Offer Category"}),(0,m.jsxs)("select",{disabled:a,name:"offerCategory",value:i.offerCategory,onChange:u,className:"mt-1 block w-full px-2 py-1 outline-none border-2 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm",children:[(0,m.jsx)("option",{value:"",children:"Select category"}),n&&n.length>0?n.map((e=>(0,m.jsx)("option",{value:e.categoryName,children:e.categoryName},e.id))):(0,m.jsx)("option",{disabled:!0,children:"No categories available"})]})]}),(0,m.jsxs)("div",{className:"w-full",children:[(0,m.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"offer Percentage"}),(0,m.jsx)("input",{type:"number",name:"offerPercentage",value:i.offerPercentage,onChange:u,className:"mt-1 block w-full px-2 py-1 outline-none  border-2 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm"})]})]}),(0,m.jsxs)("div",{className:"flex justify-between gap-3",children:[(0,m.jsxs)("div",{className:"w-full",children:[(0,m.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Starting Date"}),(0,m.jsx)("input",{type:"date",name:"startingDate",value:i.startingDate,onChange:u,className:"mt-1 block w-full border-2 px-2 py-1 outline-none  rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm",required:!0})]}),(0,m.jsxs)("div",{className:"w-full",children:[(0,m.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Expiration Date"}),(0,m.jsx)("input",{type:"date",name:"expirationDate",value:i.expirationDate,onChange:u,className:"mt-1 block w-full px-2 py-1 outline-none  border-2 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm",required:!0})]})]}),(0,m.jsxs)("div",{className:"flex items-center",children:[(0,m.jsx)("input",{type:"checkbox",name:"isActive",checked:i.isActive,onChange:u,className:"h-4 w-4 text-blue-600   border-gray-300 rounded focus:ring-blue-500"}),(0,m.jsx)("label",{className:"ml-2 text-sm font-medium text-gray-700",children:"Active"})]})]}),(0,m.jsxs)("div",{className:"p-4 border-t flex justify-end space-x-2",children:[(0,m.jsx)("button",{className:"px-4 py-2 text-gray-700 bg-gray-200 rounded-md hover:bg-gray-300",onClick:()=>{s(!1),r(!1),l({offerCategory:"",offerPercentage:0,startingDate:"",expirationDate:"",isActive:!0})},children:"Cancel"}),(0,m.jsx)("button",{className:"px-4 py-2 text-white bg-blue-600 rounded-md hover:bg-blue-700",onClick:()=>{const e=((e,t,s,a)=>{const r={};a||(r.offerCategory="you should select category before proceed"),(isNaN(e)||e>99||e<0)&&(r.offerPercentage="Offer percentage should be between 0 and 99.");const i=new Date(t),l=new Date(s),n=new Date;return n.setHours(0,0,0,0),i<=n&&(r.startingDate="Starting date must be a future date (after today)."),t&&!isNaN(i.getTime())||(r.startingDate="Starting date should be in a valid format."),s&&!isNaN(l.getTime())||(r.expirationDate="Expiration date should be in a valid format."),!r.startingDate&&!r.expirationDate&&i>=l&&(r.compare="Starting date should be earlier than expiration date."),r})(i.offerPercentage,i.startingDate,i.expirationDate,i.offerCategory);if(Object.values(e).length>0){for(let t of Object.values(e))d.Ay.error(t);return null}if(a){const e={offerId:i.offerId,info:{offerCategory:i.offerCategory,offerPercentage:i.offerPercentage,startingDate:i.startingDate,expirationDate:i.expirationDate,isActive:i.isActive}};console.log(e),o((0,x.qi)(e))}else o((0,x.gN)(i))},children:a?"Save Changes":"Add"})]})]})}):null},f=()=>{const e=(0,c.wA)(),[t,s]=(0,a.useState)(""),[f,h]=(0,a.useState)(5),[p,b]=(0,a.useState)(1),[j,v]=(0,a.useState)(!1),[y,N]=(0,a.useState)(!1),[w,D]=(0,a.useState)(!0),{successMessage:C,errorMessage:k,categoryOffer:A,categories:S,totalOffer:P}=(0,c.d4)((e=>e.category)),[O,I]=(0,a.useState)({offerCategory:"",offerPercentage:0,startingDate:"",expirationDate:"",isActive:!0});return(0,a.useEffect)((()=>{e((0,x.JA)({searchValue:t,perPage:f,page:p})),e((0,x.uc)({perPage:10,page:1,searchValue:t}))}),[e,t,f,p,C]),(0,a.useEffect)((()=>{k&&(d.Ay.error(k),e((0,x.Tn)())),C&&(d.Ay.success(C),e((0,x.Tn)()),v(!1),N(!1),I({offerCategory:"",offerPercentage:0,startingDate:"",expirationDate:"",isActive:!0}))}),[C,k,e]),(0,m.jsxs)("div",{className:"px-2 md:pr-7 my-6",children:[(0,m.jsx)("div",{className:" mx-3",children:(0,m.jsxs)("div",{className:"flex justify-end ",children:[(0,m.jsxs)("div",{onClick:()=>v(!0),className:"flex items-center bg-green-400 gap-2 px-3 py-2 rounded-md cursor-pointer ",children:[(0,m.jsx)("h4",{children:"Add New Offer"}),(0,m.jsx)("span",{children:(0,m.jsx)(n.j8n,{})})]}),(0,m.jsx)("div",{children:j&&(0,m.jsx)(g,{categories:S,isOpen:j,setIsModalOpen:v,isEdit:y,setIsEdit:N,setForm:I,form:O})})]})}),(0,m.jsxs)("div",{className:"w-full p-4",children:[(0,m.jsx)("div",{children:(0,m.jsx)(r.A,{setPerPage:h,searchValue:t,setSearchValue:s})}),(0,m.jsx)("div",{className:"relative overflow-x-auto",children:(0,m.jsxs)("div",{children:[(0,m.jsxs)("div",{className:" bg-slate-600 p-2 flex",children:[(0,m.jsx)("div",{className:"font-bold uppercase text-white text-sm w-[25%]  ",children:"offer Id"}),(0,m.jsx)("div",{className:"font-bold uppercase text-white text-sm w-[17%]  ",children:"Offer Percentage"}),(0,m.jsx)("div",{className:"font-bold uppercase text-white text-sm w-[17%]  ",children:"Category"}),(0,m.jsx)("div",{className:"font-bold uppercase text-white text-sm w-[17%]  ",children:"starting Date"}),(0,m.jsx)("div",{className:"font-bold uppercase text-white text-sm w-[17%]  ",children:"expiration Date"}),(0,m.jsx)("div",{className:"font-bold uppercase text-white text-sm w-[12%] ",children:"Action"})]}),A.map((t=>{const{_id:s,offerCategory:a,offerPercentage:r,startingDate:i,expirationDate:n,isActive:c}=t;return(0,m.jsxs)("div",{className:(c?"bg-green-100":"bg-red-100")+" font-semibold ",children:[(0,m.jsxs)("div",{className:"  p-2 my-2 flex",children:[(0,m.jsx)("div",{className:" text-black text-sm w-[25%] ",children:s}),(0,m.jsxs)("div",{className:" text-black text-sm w-[17%] text-center  ",children:[r," %"]}),(0,m.jsx)("div",{className:" text-black text-sm w-[17%]  ",children:a}),(0,m.jsx)("div",{className:"  text-black text-sm w-[17%]  ",children:new Date(i).toLocaleDateString("en-US",{day:"2-digit",month:"short",year:"numeric"})}),(0,m.jsx)("div",{className:"  text-black text-sm w-[17%]  ",children:new Date(n).toLocaleDateString("en-US",{day:"2-digit",month:"short",year:"numeric"})}),(0,m.jsxs)("div",{className:" flex gap-3 text-black text-lg w-[12%] cursor-pointer  ",children:[(0,m.jsx)("span",{onClick:()=>(e=>{I({offerCategory:e.offerCategory,offerPercentage:e.offerPercentage,offerId:e._id,startingDate:null!==e&&void 0!==e&&e.startingDate?new Date(e.startingDate).toISOString().split("T")[0]:"",expirationDate:null!==e&&void 0!==e&&e.expirationDate?new Date(e.expirationDate).toISOString().split("T")[0]:"",isActive:null===e||void 0===e?void 0:e.isActive}),N(!0),v(!0)})(t),children:(0,m.jsx)(o.uO9,{})}),(0,m.jsx)("span",{onClick:()=>{D(!1)},children:(0,m.jsx)(l.kgr,{})})]})]}),(0,m.jsx)("div",{children:!w&&(0,m.jsx)(u.A,{SetModalClose:D,confimFunction:()=>{return t=s,void e((0,x.Em)(t));var t},message:"Are you sure want to delete the coupon"})})]},s)}))]})}),(0,m.jsx)("div",{className:"w-full flex justify-end mt-4 bottom-4 right-4",children:(0,m.jsx)(i.A,{pageNumber:p,setPageNumber:b,totalItem:P,perPage:f,showItem:3})})]})]})}}}]);
//# sourceMappingURL=304.3a079877.chunk.js.map