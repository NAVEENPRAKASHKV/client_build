"use strict";(self.webpackChunkapplication=self.webpackChunkapplication||[]).push([[976],{7812:(e,t,s)=>{s.d(t,{A:()=>n});s(5043);var a=s(579);const n=e=>{let{message:t,SetModalClose:s,confimFunction:n}=e;return(0,a.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-30 flex items-center justify-center z-50",children:(0,a.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-lg w-96",children:[(0,a.jsx)("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Confirmation"}),(0,a.jsx)("p",{className:"text-sm text-gray-600 mb-6",children:t}),(0,a.jsxs)("div",{className:"flex justify-end gap-4",children:[(0,a.jsx)("button",{onClick:()=>{s(!0)},className:"px-4 py-2 bg-gray-200 text-gray-800 rounded-lg hover:bg-gray-300",children:"Cancel"}),(0,a.jsx)("button",{onClick:()=>{n(),s(!0)},className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700",children:"Confirm"})]})]})})}},4163:(e,t,s)=>{s.d(t,{A:()=>n});s(5043);var a=s(579);const n=e=>{let{setPerPage:t,searchValue:s,setSearchValue:n}=e;return(0,a.jsx)("div",{children:(0,a.jsxs)("div",{className:"h-14 bg-slate-600 rounded-t-md flex justify-between items-center px-4",children:[(0,a.jsxs)("select",{onChange:e=>t(parseInt(e.target.value)),className:"px-3 py-2 rounded font-semibold",children:[(0,a.jsx)("option",{value:"5",children:"5"}),(0,a.jsx)("option",{value:"10",children:"10"}),(0,a.jsx)("option",{value:"15",children:"15"})]}),(0,a.jsx)("input",{value:s,onChange:e=>n(e.target.value),className:"hidden md:block bg-white border border-gray-300 h-10 px-3 py-1 rounded focus:outline-none focus:border-blue-500",type:"text",placeholder:"Search"})]})})}},2419:(e,t,s)=>{s.d(t,{A:()=>l});s(5043);var a=s(6720),n=s(579);const l=e=>{let{pageNumber:t,setPageNumber:s,totalItem:l,perPage:i,showItem:o}=e;const r=Math.ceil(l/i);let d=t;r-t<=o&&(d=r-o+1);let c=d<1?o:o+d;d<=0&&(d=1),c>r+1&&(c=r+1);return(0,n.jsxs)("ul",{className:"flex gap-3 items-center",children:[t>1&&(0,n.jsx)("li",{onClick:()=>s(t-1),className:"w-[33px] h-[33px] rounded-full flex justify-center items-center bg-slate-400 text-black cursor-pointer hover:bg-indigo-400",children:(0,n.jsx)(a.U6K,{})}),(()=>{const e=[];for(let a=d;a<c;a++)e.push((0,n.jsx)("li",{onClick:()=>s(a),className:(t===a?"bg-green-600 text-white":"bg-slate-600 hover:bg-green-900 text-[#d0d2d6]")+" w-[33px] h-[33px] rounded-full flex justify-center items-center cursor-pointer",children:a},a));return e})(),t<r&&(0,n.jsx)("li",{onClick:()=>s(t+1),className:"w-[33px] h-[33px] rounded-full flex justify-center items-center bg-slate-400 text-black cursor-pointer hover:bg-indigo-400",children:(0,n.jsx)(a.b0J,{})})]})}},8976:(e,t,s)=>{s.r(t),s.d(t,{default:()=>b});var a=s(5043),n=s(4163),l=s(2419),i=s(6720),o=s(423),r=s(3003),d=s(2232);var c=s(3768),u=s(579);const m=e=>{let{isOpen:t,setIsModalOpen:s,isEdit:a,setIsEdit:n,form:l,setForm:i}=e;const o=(0,r.wA)(),m=e=>{const{name:t,value:s,type:a,checked:n}=e.target;i({...l,[t]:"checkbox"===a?n:s})};return t?(0,u.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:(0,u.jsxs)("div",{className:"rounded-lg shadow-lg w-11/12 max-w-lg "+(a?"bg-stone-300":"bg-green-300"),children:[(0,u.jsx)("div",{className:"p-4 border-b",children:(0,u.jsx)("h2",{className:"text-lg font-bold text-center",children:a?"Edit Coupon":"Add New Coupon"})}),(0,u.jsxs)("div",{className:"p-4 space-y-4",children:[(0,u.jsxs)("div",{className:"flex justify-between gap-3",children:[(0,u.jsxs)("div",{className:"w-full",children:[(0,u.jsx)("label",{className:"block text-sm  font-medium text-gray-700",children:"Coupon ID"}),(0,u.jsx)("input",{disabled:a,type:"text",name:"couponId",value:l.couponId,onChange:m,className:"mt-1 block uppercase px-2 py-1 outline-none w-full border-2 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm",required:!0})]}),(0,u.jsxs)("div",{className:"w-full",children:[(0,u.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Total Redemptions Allowed"}),(0,u.jsx)("input",{type:"number",name:"totalRedemptionsAllowed",value:l.totalRedemptionsAllowed,onChange:m,className:"mt-1 block px-2 py-1 outline-none  w-full border-2 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm",required:!0})]})]}),(0,u.jsxs)("div",{className:"flex justify-between gap-3",children:[(0,u.jsxs)("div",{className:"w-full",children:[(0,u.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Discount Amount"}),(0,u.jsx)("input",{type:"number",name:"discountAmount",value:l.discountAmount,onChange:m,className:"mt-1 block w-full px-2 py-1 outline-none  border-2 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm",required:!0})]}),(0,u.jsxs)("div",{className:"w-full",children:[(0,u.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Minimum Order Value"}),(0,u.jsx)("input",{type:"number",name:"minOrderValue",value:l.minOrderValue,onChange:m,className:"mt-1 block w-full px-2 py-1 outline-none  border-2 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm"})]})]}),(0,u.jsxs)("div",{className:"flex justify-between gap-3",children:[(0,u.jsxs)("div",{className:"w-full",children:[(0,u.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Starting Date"}),(0,u.jsx)("input",{type:"date",name:"startingDate",value:l.startingDate,onChange:m,className:"mt-1 block w-full border-2 px-2 py-1 outline-none  rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm",required:!0})]}),(0,u.jsxs)("div",{className:"w-full",children:[(0,u.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Expiration Date"}),(0,u.jsx)("input",{type:"date",name:"expirationDate",value:l.expirationDate,onChange:m,className:"mt-1 block w-full px-2 py-1 outline-none  border-2 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm",required:!0})]})]}),(0,u.jsxs)("div",{className:"flex items-center",children:[(0,u.jsx)("input",{type:"checkbox",name:"isActive",checked:l.isActive,onChange:m,className:"h-4 w-4 text-blue-600   border-gray-300 rounded focus:ring-blue-500"}),(0,u.jsx)("label",{className:"ml-2 text-sm font-medium text-gray-700",children:"Active"})]})]}),(0,u.jsxs)("div",{className:"p-4 border-t flex justify-end space-x-2",children:[(0,u.jsx)("button",{className:"px-4 py-2 text-gray-700 bg-gray-200 rounded-md hover:bg-gray-300",onClick:()=>{s(!1),n(!1),i({couponId:"",discountAmount:"",minOrderValue:"",startingDate:"",expirationDate:"",totalRedemptionsAllowed:"",isActive:!0})},children:"Cancel"}),(0,u.jsx)("button",{className:"px-4 py-2 text-white bg-blue-600 rounded-md hover:bg-blue-700",onClick:()=>{const e=((e,t,s,a,n,l,i)=>{const o={},r=e=>"string"===typeof e?!e.trim():!e;r(e)&&(o.couponId="Coupon ID is required and cannot be blank."),(r(t)||isNaN(t)||Number(t)<0)&&(o.discountAmount="Discount amount must be a valid number greater than 0 and cannot be blank."),(r(s)||isNaN(s)||Number(s)<0)&&(o.minOrderValue="Minimum order value must be a valid number greater than 0 and cannot be blank.");const d=new Date;d.setHours(0,0,0,0);const c=new Date(a);r(a)||isNaN(c)?o.startingDate="Starting date must be a valid date and cannot be blank.":c<=d&&(o.startingDate="Starting date must be after today.");const u=new Date(n);return r(n)||isNaN(u)?o.expirationDate="Expiration date must be a valid date and cannot be blank.":u<=c&&(o.expirationDate="Expiration date must be after the starting date."),(r(l)||isNaN(l)||parseInt(l,10)<=0)&&(o.totalRedemptionsAllowed="Total redemptions allowed must be a valid positive integer and cannot be blank."),"boolean"!==typeof i&&(o.isActive="IsActive must be a boolean."),parseInt(s)<=parseInt(t)&&(o.compare="order value should be higher than discount amount"),o})(l.couponId,l.discountAmount,l.minOrderValue,l.startingDate,l.expirationDate,l.totalRedemptionsAllowed,l.isActive);if(Object.values(e).length>0){for(let t of Object.values(e))c.Ay.error(t);return null}o(a?(0,d.L4)(l):(0,d.R$)(l)),s(!1),n(!1),i({couponId:"",discountAmount:"",minOrderValue:"",startingDate:"",expirationDate:"",totalRedemptionsAllowed:"",isActive:!0})},children:a?"Save Changes":"Add"})]})]})}):null};var x=s(184),p=s(7812);const b=()=>{const[e,t]=(0,a.useState)(""),[s,b]=(0,a.useState)(5),[h,g]=(0,a.useState)(1),[j,v]=(0,a.useState)(!1),[f,w]=(0,a.useState)(!1),[N,y]=(0,a.useState)(!0),{successMessage:A,errorMessage:k,coupons:D,totalCoupons:C}=(0,r.d4)((e=>e.coupon)),[I,S]=(0,a.useState)({couponId:"",discountAmount:"",minOrderValue:"",startingDate:"",expirationDate:"",totalRedemptionsAllowed:"",isActive:!0}),O=(0,r.wA)();return(0,a.useEffect)((()=>{O((0,d.Qs)({searchValue:e,perPage:s,page:h}))}),[O,I,e,s,h,A]),(0,a.useEffect)((()=>{k&&(c.Ay.error(k),O((0,d.Tn)())),A&&(c.Ay.success(A),O((0,d.Tn)()))}),[A,k,O]),(0,u.jsxs)("div",{className:"px-2 md:pr-7",children:[(0,u.jsx)("div",{className:" mx-3",children:(0,u.jsxs)("div",{className:"flex justify-end ",children:[(0,u.jsxs)("div",{onClick:()=>v(!0),className:"flex items-center bg-green-400 gap-2 px-3 py-2 rounded-md cursor-pointer ",children:[(0,u.jsx)("h4",{children:"Add New Coupon"}),(0,u.jsx)("span",{children:(0,u.jsx)(o.j8n,{})})]}),(0,u.jsx)("div",{children:j&&(0,u.jsx)(m,{isOpen:j,setIsModalOpen:v,isEdit:f,setIsEdit:w,setForm:S,form:I})})]})}),(0,u.jsxs)("div",{className:"w-full p-4",children:[(0,u.jsx)("div",{children:(0,u.jsx)(n.A,{setPerPage:b,searchValue:e,setSearchValue:t})}),(0,u.jsx)("div",{className:"relative overflow-x-auto",children:(0,u.jsxs)("div",{children:[(0,u.jsxs)("div",{className:" bg-slate-600 p-2 flex",children:[(0,u.jsx)("div",{className:"font-bold uppercase text-white text-sm w-[17%]  ",children:"Coupon Id"}),(0,u.jsxs)("div",{className:"font-bold uppercase text-white text-sm w-[10%]  ",children:["discount",(0,u.jsx)("br",{}),"Amount"]}),(0,u.jsxs)("div",{className:"font-bold uppercase text-white text-sm w-[10%]  ",children:["min Order",(0,u.jsx)("br",{})," Value"]}),(0,u.jsxs)("div",{className:"font-bold uppercase text-white text-sm w-[15%]  ",children:["starting ",(0,u.jsx)("br",{})," Date"]}),(0,u.jsxs)("div",{className:"font-bold uppercase text-white text-sm w-[15%]  ",children:["expiration ",(0,u.jsx)("br",{})," Date"]}),(0,u.jsxs)("div",{className:"font-bold uppercase text-white text-sm w-[15%] ",children:["total Redemptions ",(0,u.jsx)("br",{})," Allowed"]}),(0,u.jsx)("div",{className:"font-bold uppercase text-white text-sm w-[15%] ",children:"redemptions Count"}),(0,u.jsx)("div",{className:"font-bold uppercase text-white text-sm w-[8%] ",children:"Action"})]}),D.map((e=>{const{couponId:t,discountAmount:s,minOrderValue:a,startingDate:n,expirationDate:l,totalRedemptionsAllowed:o,isActive:r,redemptionsCount:c}=e;return(0,u.jsxs)("div",{className:(r?"bg-green-100":"bg-red-100")+" font-semibold ",children:[(0,u.jsxs)("div",{className:"  p-2 my-2 flex",children:[(0,u.jsx)("div",{className:" text-black text-sm w-[17%] ",children:t}),(0,u.jsx)("div",{className:" text-black text-sm w-[10%]  ",children:s}),(0,u.jsx)("div",{className:" text-black text-sm w-[10%]  ",children:a}),(0,u.jsx)("div",{className:"  text-black text-sm w-[15%]  ",children:new Date(n).toLocaleDateString("en-US",{day:"2-digit",month:"short",year:"numeric"})}),(0,u.jsx)("div",{className:"  text-black text-sm w-[15%]  ",children:new Date(l).toLocaleDateString("en-US",{day:"2-digit",month:"short",year:"numeric"})}),(0,u.jsx)("div",{className:" text-black text-sm w-[15%] ",children:o}),(0,u.jsx)("div",{className:" text-black text-sm w-[15%] ",children:c}),(0,u.jsxs)("div",{className:" flex gap-3 text-black text-lg w-[8%] cursor-pointer  ",children:[(0,u.jsx)("span",{onClick:()=>(e=>{S({couponId:(null===e||void 0===e?void 0:e.couponId)||"",discountAmount:(null===e||void 0===e?void 0:e.discountAmount)||"",minOrderValue:(null===e||void 0===e?void 0:e.minOrderValue)||"",startingDate:null!==e&&void 0!==e&&e.startingDate?new Date(e.startingDate).toISOString().split("T")[0]:"",expirationDate:null!==e&&void 0!==e&&e.expirationDate?new Date(e.expirationDate).toISOString().split("T")[0]:"",totalRedemptionsAllowed:(null===e||void 0===e?void 0:e.totalRedemptionsAllowed)||"",isActive:null===e||void 0===e?void 0:e.isActive}),w(!0),v(!0)})(e),children:(0,u.jsx)(x.uO9,{})}),(0,u.jsx)("span",{onClick:()=>{y(!1)},children:(0,u.jsx)(i.kgr,{})})]})]}),(0,u.jsx)("div",{children:!N&&(0,u.jsx)(p.A,{SetModalClose:y,confimFunction:()=>(e=>{O((0,d.$Z)(e))})(t),message:"Are you sure want to delete the coupon"})})]})}))]})}),(0,u.jsx)("div",{className:"w-full flex justify-end mt-4 bottom-4 right-4",children:(0,u.jsx)(l.A,{pageNumber:h,setPageNumber:g,totalItem:C,perPage:s,showItem:3})})]})]})}}}]);
//# sourceMappingURL=976.e7c9cf03.chunk.js.map