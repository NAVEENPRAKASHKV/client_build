"use strict";(self.webpackChunkapplication=self.webpackChunkapplication||[]).push([[700],{5614:(e,s,l)=>{l.d(s,{e:()=>t});const t={display:"flex",margin:"0 auto",height:"24px",justifyContent:"center",alignItem:"center"}},6924:(e,s,l)=>{l.d(s,{Z:()=>t});const t=e=>{const{brand:s,name:l,price:t,description:a,discount:r,stock:o}=e,d={},n=e=>null===e||void 0===e||"string"===typeof e&&""===e.trim();return n(s)&&(d.brand="Brand is required"),n(l)&&(d.name="Name is required"),(n(t)||isNaN(t)||t<1)&&(d.price="Price should be a number greater than 0"),n(a)&&(d.description="Description is required"),(n(r)||isNaN(r)||r<0||r>100)&&(d.discount="Discount should be a number between 0 and 100"),(n(o)||isNaN(o)||o<0)&&(d.stock="Stock should be a number greater than or equal to 0"),d}},34:(e,s,l)=>{l.r(s),l.d(s,{default:()=>g});var t=l(5043),a=l(5475),r=l(184),o=l(423),d=l(3216),n=l(3003),c=l(1481),i=l(3402),u=l(3689),p=l(3768),x=l(5614),m=l(2485),h=(l(9686),l(6924)),b=l(579);const g=()=>{const{categories:e}=(0,n.d4)((e=>e.category)),{productId:s}=(0,d.g)(),l=(0,n.wA)(),[g,f]=(0,t.useState)({name:"",description:"",discount:"",price:"",brand:"",stock:""}),[j,N]=(0,t.useState)(!1),[v,w]=(0,t.useState)(""),[y,k]=(0,t.useState)(e),[C,S]=(0,t.useState)(""),{singleProduct:F,loader:P,successMessage:D,errorMessage:R}=(0,n.d4)((e=>e.product)),[I,E]=(0,t.useState)([]),[L,O]=(0,t.useState)(null),[z,B]=(0,t.useState)(null),[q,M]=(0,t.useState)(!1),[U,A]=(0,t.useState)([]),[$,T]=(0,t.useState)([]),[W,Z]=(0,t.useState)([]);(0,t.useEffect)((()=>{l((0,c.z4)(s))}),[s]),(0,t.useEffect)((()=>{l((0,i.uc)({searchValue:"",parPage:"",page:""}))}),[]),(0,t.useEffect)((()=>{D&&(p.oR.success(D),l((0,c.Tn)()),f({name:"",description:"",discount:"",price:"",brand:"",stock:""}),w(""),E([]),Z([])),R&&(p.oR.error(R),l((0,c.Tn)()))}),[D,R]);const G=e=>{f({...g,[e.target.name]:e.target.value})};(0,t.useEffect)((()=>{f({name:F.name,description:F.description,discount:F.discount,price:F.price,brand:F.brand,stock:F.stock}),w(F.category),T(F.images),Z(F.images)}),[F]);return(0,b.jsxs)("div",{className:"px-2 lg:pr-7 ",children:[(0,b.jsx)("div",{className:"my-5",children:(0,b.jsx)("h1",{className:"text-xl font-bold",children:"Edit Product Details"})}),(0,b.jsxs)("div",{className:"w-full p-4 bg-slate-600 rounded-md",children:[(0,b.jsxs)("div",{className:"flex justify-between items-center pb-4",children:[(0,b.jsx)("h1",{className:"text-white text-xl font-semibold",children:"Product Details"}),(0,b.jsx)(a.N_,{to:"/seller/dashboard/all-product",className:"bg-blue-500 hover:shadow-blue-500/50 hover:shadow-lg text-white rounded-sm px-7 py-2 my-2",children:"All Product"})]}),(0,b.jsx)("div",{children:(0,b.jsxs)("form",{onSubmit:e=>{e.preventDefault();const t=(0,h.Z)(g);if(Object.keys(t).length>0){for(let e of Object.values(t))p.oR.error(e);return}const a=new FormData;I.length>0&&I.forEach((e=>a.append("images",e))),a.append("name",g.name),a.append("description",g.description),a.append("discount",g.discount),a.append("price",g.price),a.append("brand",g.brand),a.append("stock",g.stock),a.append("category",v),a.append("productId",s),a.append("oldImages",W),l((0,c.G4)(a)),Z([])},children:[(0,b.jsxs)("div",{className:"flex flex-col mb-3 md:flex-row gap-4 w-full text-white",children:[(0,b.jsxs)("div",{className:"flex flex-col w-full gap-1",children:[(0,b.jsx)("label",{htmlFor:"name",children:"Product Name"}),(0,b.jsx)("input",{className:"px-4 py-2 focus:border-indigo-500 outline-none  border border-slate-700 rounded-md text-black ",onChange:G,value:g.name,type:"text",name:"name",id:"name",placeholder:"Product Name"})]}),(0,b.jsxs)("div",{className:"flex flex-col w-full gap-1",children:[(0,b.jsx)("label",{htmlFor:"brand",children:"Product Brand"}),(0,b.jsx)("input",{className:"px-4 py-2 focus:border-indigo-500 outline-none text-black border border-slate-700 rounded-md ",onChange:G,value:g.brand,type:"text",name:"brand",id:"brand",placeholder:"Brand Name"})]})]}),(0,b.jsxs)("div",{className:"flex flex-col mb-3 md:flex-row gap-4 w-full text-white",children:[(0,b.jsxs)("div",{className:"flex flex-col w-full gap-1 relative",children:[(0,b.jsx)("label",{htmlFor:"category",children:"Category"}),(0,b.jsx)("input",{readOnly:!0,onClick:()=>N(!j),className:"px-4 py-2 focus:border-indigo-500 outline-none  border border-slate-700 rounded-md text-black",onChange:G,value:v,type:"text",id:"category",placeholder:"--select category--"}),(0,b.jsxs)("div",{className:`absolute top-[100%] bg-lime-900 w-full transition-all ${j?"scale-100":"scale-0"} `,children:[(0,b.jsx)("div",{className:"w-full px-4 py-2 fixed",children:(0,b.jsx)("input",{value:C,onChange:s=>{const l=s.target.value;if(S(l),l){let e=y.filter((e=>e.categoryName.toLowerCase().includes(l.toLowerCase())));k(e)}else k(e)},className:"px-3 py-1 w-full focus:border-indigo-500 outline-none bg-transparent border border-slate-100 rounded-md text-[#d0d2d6] overflow-hidden",type:"text",placeholder:"search"})}),(0,b.jsx)("div",{className:"pt-14"}),(0,b.jsx)("div",{className:"flex justify-start items-start flex-col h-[200px] overflow-x-scrool",children:y.map(((s,l)=>(0,b.jsx)("span",{className:`px-4 py-2 hover:bg-indigo-400 hover:text-white hover:shadow-lg w-full cursor-pointer ${v===s.categoryName&&"bg-indigo-700"}`,onClick:()=>{N(!1),w(s.categoryName),S(""),k(e)},children:s.categoryName})))})]})]}),(0,b.jsxs)("div",{className:"flex flex-col w-full gap-1",children:[(0,b.jsx)("label",{htmlFor:"stock",children:"Product Stock"}),(0,b.jsx)("input",{className:"px-4 py-2 focus:border-indigo-500 outline-none  border border-slate-700 rounded-md text-black",onChange:G,value:g.stock,type:"text",name:"stock",id:"stock",placeholder:"Stock"})]})]}),(0,b.jsxs)("div",{className:"flex flex-col mb-3 md:flex-row gap-4 w-full text-white",children:[(0,b.jsxs)("div",{className:"flex flex-col w-full gap-1",children:[(0,b.jsx)("label",{htmlFor:"price",children:"Price"}),(0,b.jsx)("input",{className:"px-4 py-2 focus:border-indigo-500 outline-none  border border-slate-700 rounded-md text-black",onChange:G,value:g.price,type:"number",name:"price",id:"price",placeholder:"price"})]}),(0,b.jsxs)("div",{className:"flex flex-col w-full gap-1",children:[(0,b.jsx)("label",{htmlFor:"discount",children:"Discount"}),(0,b.jsx)("input",{className:"px-4 py-2 focus:border-indigo-500 outline-none  border border-slate-700 rounded-md text-black",onChange:G,value:g.discount,type:"number",name:"discount",id:"discount",placeholder:"discount by %"})]})]}),(0,b.jsxs)("div",{className:"flex flex-col w-full gap-1 mb-5",children:[(0,b.jsx)("label",{htmlFor:"description",className:"text-[#d0d2d6]",children:"Description"}),(0,b.jsx)("textarea",{className:"px-4 py-2 focus:border-indigo-500 outline-none  border border-slate-700 rounded-md text-black",onChange:G,value:g.description,name:"description",id:"description",placeholder:"Description",cols:"10",rows:"4"})]}),(0,b.jsxs)("div",{className:"grid grid-col-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 w-full  gap-2 mb-5",children:[$&&$.map(((e,s)=>(0,b.jsxs)("div",{className:` h-[180px] w-[180px] relative ${I.includes(U[s])?"border-2 border-blue-500":""} `,children:[(0,b.jsx)("label",{htmlFor:s,className:"cursor-pointer",children:(0,b.jsx)("img",{className:"w-full h-full rounded-sm",src:(null===e||void 0===e?void 0:e.url)||e,alt:""})}),(0,b.jsx)("span",{onClick:()=>((e,s)=>{if(null!==e&&void 0!==e&&e.url){const e=U.filter(((e,l)=>l!==s)),l=$.filter(((e,l)=>l!==s)),t=U.filter(((e,l)=>l!==s));A(e),T(l),E(t)}if(e){const s=W.filter((s=>s!==e));T(s),Z([...s]),console.log(s)}})(e,s),className:"absolute right-4  top-2 z-50 w-[20px] h-[20px] rounded-full bg-white hover:bg-red-500 flex justify-center items-center cursor-pointer",children:(0,b.jsx)(o.W0M,{})})]}))),(0,b.jsxs)("label",{htmlFor:"image",className:"flex flex-col justify-center items-center h-[180px] w-[180px] bg-white cursor-pointer",children:[(0,b.jsx)("span",{children:(0,b.jsx)(r.eWf,{})}),(0,b.jsx)("span",{children:"Select Image"})]}),(0,b.jsx)("input",{type:"file",id:"image",className:"hidden",accept:"image/*",onChange:e=>{const s=e.target.files;s.length>0&&(B(URL.createObjectURL(s[0])),M(!0))}})]}),(0,b.jsx)("div",{className:"",children:(0,b.jsx)("button",{disabled:P,className:"bg-red-600 py-2 px-3 rounded-lg text-white font-bold",children:P?(0,b.jsx)(u.A,{color:"#fff",cssOverride:x.e}):"Save Changes"})}),(0,b.jsx)("div",{children:q&&(0,b.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:(0,b.jsxs)("div",{className:"bg-white rounded-lg p-6 w-full max-w-lg shadow-lg",children:[(0,b.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Crop Image"}),(0,b.jsx)(m.I,{className:"w-full h-64",src:z,aspectRatio:1,viewMode:1,guides:!0,scalable:!0,cropBoxResizable:!0,onInitialized:e=>O(e)}),(0,b.jsxs)("div",{className:"mt-4 flex justify-end space-x-3",children:[(0,b.jsx)("button",{className:"px-4 py-2 bg-green-500 text-white rounded-md hover:bg-green-600",onClick:e=>{if(e.preventDefault(),L){L.getCroppedCanvas().toBlob((e=>{if(e){const s=new File([e],"cropped-image.jpg",{type:"image/jpeg"});A([...U,s]),E([...I,s]);const l=URL.createObjectURL(s);T([...$,{url:l}]),M(!1)}}))}},children:"Crop"}),(0,b.jsx)("button",{className:"px-4 py-2 bg-red-500 text-white rounded-md hover:bg-red-600",onClick:()=>M(!1),children:"Cancel"})]})]})})})]})})]})]})}}}]);
//# sourceMappingURL=700.b8231254.chunk.js.map